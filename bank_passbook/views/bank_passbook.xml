<?xml version='1.0' encoding="UTF-8"?>
<odoo>
	<data>
		<record id="tree_bank_passbook" model="ir.ui.view">
			<field name="name">bank.passbook.tree</field>
			<field name="model">bank.passbook</field>
			<field name="arch" type="xml">
				<tree>
					<field name="date"/>
					<field name="customer_name"/>
					<field name="name"/>
					<field name="account_no"/>
					<field name="ac_type"/>
					<field name="phone"/>
					<field name="marital_status"/>
					<field name="cifi_no" optional="hide"/>
					<field name="city" optional="hide"/>
					<field name="state_id" optional="hide"/>
					<field name="country_id" optional="hide"/>
					<field name="dob" optional="hide"/>
				</tree>
			</field>
		</record>
		<record id="kanban_bank_passbook" model="ir.ui.view">
			<field name="name">bank.passbook.kanban</field>
			<field name="model">bank.passbook</field>
			<field name="arch" type="xml">
				<kanban class="o_res_partner_kanban">
					<templates>
						<t t-name="kanban-box">
							<div class="oe_kanban_details">
								<strong class="o_kanban_record_title">
									<field name="name"/>
								</strong>
								<strong class="o_kanban_record_title">
									<field name="customer_name"/>
								</strong>
								<div>
									<field name="phone"/>
									<field name="account_no"/>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>
		<record id="form_bank_passbook" model="ir.ui.view">
			<field name="name">bank.passbook.form</field>
			<field name="model">bank.passbook</field>
			<field name="arch" type="xml">
				<form>
					<header>
						<button name="action_new" string="New" type="object" attrs="{'invisible':[('state','!=','done')]}"/>
						<button name="action_update" string="Update" type="object" attrs="{'invisible':[('state','!=','new')]}"/>
						<button name="action_done" string="Done" type="object" attrs="{'invisible':[('state','!=','update')]}"/>
						<field name="state" widget="statusbar"/>
					</header>
					<sheet>
						<group>
							<group>
								<div class="oe_title">
									<h1><field name="name"/></h1>
								</div>
							</group>
							<group>
								<div class="oe_title">
									<h1><field name="names"/></h1>
								</div>
							</group>
						</group>
						<group>
							<group string="Customer Information">
								<field name="ac_type"/>
								<field name="account_no"/>
								<field name="customer_name"/>
								<span class="o_form_label o_td_label" name="address_name">
	                                <b>Address</b>
                           		</span>
                            	<div class="o_address_format">
	                                <field name="street" placeholder="Street..." class="o_address_street"/>
	                                <field name="street2" placeholder="Street 2..." class="o_address_street"/>
	                                <field name="city" placeholder="City" class="o_address_city"/>
	                                <field name="state_id" class="o_address_state" placeholder="State"/>
	                                <field name="zip" placeholder="ZIP" class="o_address_zip"/>
	                                <field name="country_id" placeholder="Country" class="o_address_country"/>
                           		</div>
							</group>
							<group string="Personal Info">
								<field name="phone"/>
								<field name="email"/>
								<field name="dob"/>
								<field name="marital_status"/>
							</group>
						</group>
						<notebook>
							<page string="Passbook">
								<group string="Account Total Balance">
									<field name="total_credit" invisible='1'/>
									<field name="total_dabit" invisible='1'/>
									<field name="total_balance"/>
								</group>
								<group string="Bank Passbook">
									<field name="bank_entry_line" nolabel="1">
										<tree editable="bottom">
											<field name="date"/>
											<field name="select_type"/>
											<field name="credit" attrs="{'invisible':[('select_type','=','dabit')]}"/>
											<field name="dabit" attrs="{'invisible':[('select_type','=','credit')]}"/>
										</tree>
									</field>
								</group>
							</page>
							<page string="Loan Details">
								<group>
									<group>
										<button name="action_loan_count" type="object" string="Loan Amount"/>
									</group>
									<group>
										<button name="action_all_clear" type="object" string="Clear All"/>
									</group>
								</group>
								<group string="Loan Detail">
									<group>
										<field name="loan_amt"/>
										<field name="interest"/>
										<field name="year"/>
										<field name="installment_no"/>
										<field name="payment_start_date"/>
									</group>
									<group>
										<field name="total_amt" invisible="1"/>
										<field name="unpaid_amount"/>
										<field name="paid_amount"/>
										<field name="loan_status" decoration-danger="loan_status=='loan_paid'" decoration-success="loan_status=='loan_pending'" readonly="1"/>
									</group>
								</group>
								<group string="Installment Detail">
									<field name="loan_assumtion_line" nolabel="1">
										<tree editable="bottom" decoration-success="status=='pending'" decoration-danger="status=='paid'">
											<field name="payment_date"/>
											<field name="amount"/>
											<field name="status"/>
											<button name="action_to_done" string="Paid" type="object" class="oe_highlight" attrs="{'invisible':[('status','=','paid')]}"/>
										</tree>
									</field>
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<record id="search_bank_passbook" model="ir.ui.view">
			<field name="name">bank.passbook</field>
			<field name="model">bank.passbook</field>
			<field name="arch" type="xml">
				<search string="Bank Passbook">
					<field name="name"/>
					<filter string="Saving Type" name="saving type" domain="[('ac_type','=','saving')]"/>
					<filter string="Current Type" name="current type" domain="[('ac_type','=','current')]"/>
					<filter string="State" name="new" domain="[('state','=','new')]"/>
					<filter string="State" name="new" domain="[('state','=','update')]"/>
					<filter string="State" name="new" domain="[('state','=','done')]"/>
					<group expand="0" string="Group By">
                 	   <filter string="Dates" name="date" context="{'group_by':'date'}"/>
                 	   <filter string="State" name="state" context="{'group_by':'state'}"/>
                 	   <filter string="A/c Type" name="ac_type" context="{'group_by':'ac_type'}"/>
                </group>
				</search>
			</field>
		</record>
		<record id="action_bank_passbook" model="ir.actions.act_window">
			<field name="name">Bank Passbook</field>
			<field name="res_model">bank.passbook</field>
			<field name="view_mode">tree,kanban,form</field>
		</record>
		<menuitem id="menu_bank_passbook" name="Bank Passbook" action="action_bank_passbook"/>
	</data>
</odoo>